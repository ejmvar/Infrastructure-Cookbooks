#
# /etc/sudoers
#
# Generated by Chef for <%= node[:fqdn] %>
#

Defaults        !lecture,tty_tickets,!fqdn

# User privilege specification
root                ALL=(ALL) ALL
<%= @deploy_user%>  ALL=(ALL) NOPASSWD:ALL
tron                ALL=(ALL) ALL  # Backdoor user. http://en.wikipedia.org/wiki/Tron_(film)

<% @sudoers_users.each do |user| -%>
<%= user %>   ALL=(ALL) <%= "NOPASSWD:" if @passwordless %>ALL
<% end -%>

#includedir /etc/sudoers.d

<% @sudoers_groups.each do |group| -%>
# Members of the group '<%= group %>' may gain root privileges
%<%= group %> ALL=(ALL) <%= "NOPASSWD:" if @passwordless %>ALL
<% end -%>
